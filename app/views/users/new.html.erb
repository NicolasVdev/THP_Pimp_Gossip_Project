<center>
  <div class="container">
    <div class="row">
      <div class="col-md-6 offset-md-3"><br><br><br><br>
        <h1 class="color-title"><b>Création de compte</b></h1><br><br>
        <%= form_tag('/users', method: :post) do %>
          <div class="form-group">
            <%= text_field_tag 'first_name', nil, class: 'form-control', placeholder: 'Prénom' %>
          </div><br>
          <div class="form-group">
            <%= text_field_tag 'last_name', nil, class: 'form-control', placeholder: 'Nom' %>
          </div><br>
          <div class="form-group">
            <%= text_field_tag 'age', nil, class: 'form-control', placeholder: 'Age' %>
          </div><br>
          <div class="form-group">
            <%= text_field_tag 'description', nil, class: 'form-control', placeholder: 'Description' %>
          </div><br>
          <div class="form-group">
            <%= text_field_tag 'email', nil, class: 'form-control', placeholder: 'Email' %>
          </div><br>
          <div class="form-group">
            <div class="input-group">
              <%= password_field_tag 'password', nil, class: 'form-control', placeholder: 'Mot de passe' %>
              <div class="input-group-append">
                <button class="btn btn-dark" type="button" id="password-toggle">Afficher</button>
              </div>
            </div>
          </div><br>
          <div class="form-group">
            <div class="input-group">
              <%= password_field_tag 'password_confirmation', nil, class: 'form-control', placeholder: 'Confirmation du mot de passe' %>
              <div class="input-group-append">
                <button class="btn btn-dark" type="button" id="password-confirmation-toggle">Afficher</button>
              </div>
            </div>
          </div><br>
          <div class="form-group">
            <%= submit_tag "S'enregistrer", class: "btn btn-dark", data: { turbo: false } %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</center>

<!-- MERCI CHATGPT -->

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const passwordToggle = document.getElementById('password-toggle');
    const passwordConfirmationToggle = document.getElementById('password-confirmation-toggle');
    const passwordField = document.querySelector('input[type="password"][name="password"]');
    const passwordConfirmationField = document.querySelector('input[type="password"][name="password_confirmation"]');

    passwordToggle.addEventListener('click', function() {
      const type = passwordField.getAttribute('type') === 'password' ? 'text' : 'password';
      passwordField.setAttribute('type', type);
      this.textContent = type === 'password' ? 'Afficher' : 'Cacher';
    });

    passwordConfirmationToggle.addEventListener('click', function() {
      const type = passwordConfirmationField.getAttribute('type') === 'password' ? 'text' : 'password';
      passwordConfirmationField.setAttribute('type', type);
      this.textContent = type === 'password' ? 'Afficher' : 'Cacher';
    });
  });
</script>
